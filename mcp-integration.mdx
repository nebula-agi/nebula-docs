---
title: 'MCP Integration'
description: 'Model Context Protocol integration for AI assistants and applications'
---

# MCP Integration

Nebula provides Model Context Protocol (MCP) servers that allow AI assistants like Claude Desktop, Cursor, and VS Code extensions to interact with your Nebula memory clusters directly.


## Overview

The Nebula MCP servers provide a bridge between AI assistants and your Nebula memory clusters, enabling:

- **Memory Storage**: Add documents and conversation messages to clusters
- **Memory Search**: Search across your memory clusters with natural language queries
- **Seamless Integration**: Works with popular AI clients through MCP protocol

## Available Packages

**Node.js Package (Recommended):**
- Package: `@nebula-ai/mcp-server`
- Best for: Most users, easier installation, better performance
- Requirements: Node.js 18+

**Python Package:**
- Package: `nebula-mcp`
- Best for: Python developers, existing Python environments  
- Requirements: Python 3.9+

## Installation

### Quick Installation

#### Node.js Version

##### One-Command Setup (Recommended)
```bash
# Install for Claude Desktop
npx install-mcp "@nebula-ai/mcp-server --stdio" --client claude --env NEBULA_API_KEY=your_api_key

# Install for Cursor
npx install-mcp "@nebula-ai/mcp-server --stdio" --client cursor --env NEBULA_API_KEY=your_api_key

# Install for VS Code/Cline
npx install-mcp "@nebula-ai/mcp-server --stdio" --client cline --env NEBULA_API_KEY=your_api_key
```

##### Custom Installer
```bash
npx @nebula-ai/mcp-server-install --client claude --api-key your_api_key
```

#### Python Version

##### One-Command Setup
```bash
# Install for Claude Desktop
npx install-mcp "python -m nebula_mcp" --client claude --env NEBULA_API_KEY=your_api_key

# Install for Cursor
npx install-mcp "python -m nebula_mcp" --client cursor --env NEBULA_API_KEY=your_api_key
```

##### Custom Installer
```bash
# Install package first
pip install nebula-mcp

# Then configure client
nebula-mcp-install --client claude --api-key your_api_key
```

### Manual Installation

#### Node.js Version

1. **Install package**: `npm install -g @nebula-ai/mcp-server` (optional, npx works without install)

2. **Configure client**:
   ```json
   {
     "mcpServers": {
       "nebula": {
         "command": "npx",
         "args": ["-y", "@nebula-ai/mcp-server", "--stdio"],
         "env": {
           "NEBULA_API_KEY": "your_api_key_here",
           "NEBULA_API_URL": "https://api.nebulacloud.app"
         }
       }
     }
   }
   ```

#### Python Version

1. **Install package**: `pip install nebula-mcp`

2. **Configure client**:
   ```json
   {
     "mcpServers": {
       "nebula": {
         "command": "python",
         "args": ["-m", "nebula_mcp"],
         "env": {
           "NEBULA_API_KEY": "your_api_key_here",
           "NEBULA_API_URL": "https://api.nebulacloud.app"
         }
       }
     }
   }
   ```

## Configuration

### Environment Variables

- **`NEBULA_API_KEY`** (required): Your Nebula API key
- **`NEBULA_API_URL`** (optional): Custom API endpoint (defaults to `https://api.nebulacloud.app`)

### Client-Specific Instructions

#### Claude Desktop

**Config Location:**
- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`
- Windows: `%APPDATA%\Claude\claude_desktop_config.json`
- Linux: `~/.config/claude/claude_desktop_config.json`

**Steps:**
1. Add server configuration to `mcpServers` section
2. Restart Claude Desktop
3. Look for Nebula tools in the tools UI

#### Cursor

**Global Installation:**
- Config: `~/.cursor/mcp.json`

**Project-Specific Installation:**
- Config: `.cursor/mcp.json` in project root

**Steps:**
1. Add server configuration
2. Restart Cursor
3. Access tools through MCP integration

#### VS Code Clients (Cline, Roo, Windsurf)

**Config Locations:**
- Cline: `~/.cline/mcp.json`
- Roo: `~/.roo-cline/mcp.json`
- Windsurf: `~/.windsurf/mcp.json`

**Steps:**
1. Add server configuration to `mcpServers` section
2. Restart VS Code
3. Access tools through client's MCP integration

## Available Tools

Both versions provide identical tool sets:

### Memory Operations
- `add_memory`: Add content to a cluster (supports both documents and conversation messages)
- `search_memories`: Search memories within a cluster
- `health_check`: Test connection and API key validity

## Usage Examples

**Typical workflow:**
1. Install and configure MCP server for your AI client
2. Create memory clusters using Nebula SDK or web interface
3. Use `add_memory` to store important information
4. Use `search_memories` to find relevant information during conversations

**Example session:**
```
User: Remember that I prefer email communication over phone calls
AI: I'll remember that for you.
*Uses add_memory tool*
add_memory(cluster_id="user_preferences", content="User prefers email communication over phone calls")

Later in conversation:
User: What's the best way to reach me for updates?
AI: Let me check your preferences.
*Uses search_memories tool*
search_memories(query="communication preferences", cluster_id="user_preferences")
Based on your stored preferences, you prefer email communication over phone calls.
```

## Supported Clients

**Claude Desktop** - ✅ Full support, one-command setup
**Cursor** - ✅ Full support, project-specific and global configuration
**VS Code Extensions** - ✅ Full support (Cline, Roo, Windsurf)
**Other MCP Clients** - Works with any MCP-compliant client

## Troubleshooting

### Common Issues

1. **Tools not appearing**
   - Ensure correct transport (stdio for local clients)
   - Check API key configuration
   - Restart MCP client after changes
   - Verify package installation

2. **Connection errors**
   - Verify API key validity
   - Check network connectivity
   - Use `health_check` tool to test

3. **Command not found**
   - **Node.js**: Ensure Node.js 18+ is installed
   - **Python**: Ensure Python 3.9+ is in PATH

### Testing Installation

#### Test with MCP Inspector
```bash
# Node.js version
npx @modelcontextprotocol/inspector npx @nebula-ai/mcp-server --stdio --api-key your_key

# Python version
npx @modelcontextprotocol/inspector python -m nebula_mcp
```

#### Direct Server Test
```bash
# Node.js version
npx @nebula-ai/mcp-server --stdio --api-key your_key

# Python version
python -m nebula_mcp
```

## Multiple Environments

Use project-specific configurations for different API keys/environments.

## Advanced Configuration

### Custom API Endpoints
```json
{
  "env": {
    "NEBULA_API_KEY": "your_key",
    "NEBULA_API_URL": "https://your-custom-endpoint.com"
  }
}
```

### Hosted Mode (Node.js only)
```bash
npx @nebula-ai/mcp-server --api-key your_key
# Connects to ws://localhost:3956
```

## Next Steps

1. **Choose your package** (Node.js recommended for most users)
2. **Install for your AI client** using the one-command installation
3. **Create memory clusters** using the Nebula SDK or web interface
4. **Start using the tools** in your AI conversations!

**More information:**
- [Python SDK Documentation](/clients/python)
- [JavaScript SDK Documentation](/clients/nodejs)
- [Nebula API Reference](/api-reference/overview)
- [GitHub Repository](https://github.com/nebula-ai/nebula)
