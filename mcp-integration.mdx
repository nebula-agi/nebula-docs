---
title: 'MCP Integration'
description: 'Model Context Protocol integration for AI assistants and applications'
---

# MCP Integration

Nebula provides Model Context Protocol (MCP) servers that allow AI assistants like Claude Desktop, Cursor, and VS Code extensions to interact with your Nebula memory clusters directly.


## Overview

The Nebula MCP servers provide a bridge between AI assistants and your Nebula memory clusters, enabling:

- **Memory Storage**: Add documents and conversation messages to clusters
- **Memory Search**: Search across your memory clusters with natural language queries
- **Seamless Integration**: Works with popular AI clients through MCP protocol

## Available Packages

**Node.js Package (Recommended):**
- Package: `@nebula-ai/mcp-server`
- Best for: Most users, easier installation, better performance
- Requirements: Node.js 18+

**Python Package:**
- Package: `nebula-mcp`
- Best for: Python developers, existing Python environments  
- Requirements: Python 3.9+

## Installation

### Quick Setup (Recommended)

**One-command installation for your AI client:**

```bash
# Replace 'claude' with: claude, cursor, cline, roo, or windsurf
npx install-mcp "@nebula-ai/mcp-server --stdio" --client claude --env NEBULA_API_KEY=your_api_key
```

**Or use Python version:**
```bash
npx install-mcp "python -m nebula_mcp" --client claude --env NEBULA_API_KEY=your_api_key
```

### Manual Installation

**Node.js version:**
```json
{
  "mcpServers": {
    "nebula": {
      "command": "npx",
      "args": ["-y", "@nebula-ai/mcp-server", "--stdio"],
      "env": {
        "NEBULA_API_KEY": "your_api_key_here"
      }
    }
  }
}
```

**Python version (install first: `pip install nebula-mcp`):**
```json
{
  "mcpServers": {
    "nebula": {
      "command": "python",
      "args": ["-m", "nebula_mcp"],
      "env": {
        "NEBULA_API_KEY": "your_api_key_here"
      }
    }
  }
}
```

## Configuration

### Environment Variables

- **`NEBULA_API_KEY`** (required): Your Nebula API key
- **`NEBULA_API_URL`** (optional): Custom API endpoint (defaults to `https://api.nebulacloud.app`)

### Client-Specific Config Files

**Claude Desktop:**
- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`
- Windows: `%APPDATA%\Claude\claude_desktop_config.json`
- Linux: `~/.config/claude/claude_desktop_config.json`

**Cursor:**
- Global: `~/.cursor/mcp.json`
- Project: `.cursor/mcp.json` in project root

**VS Code Clients:**
- Cline: `~/.cline/mcp.json`
- Roo: `~/.roo-cline/mcp.json`
- Windsurf: `~/.windsurf/mcp.json`

## Available Tools

**add_memory** - Add content to a Nebula cluster
- `cluster_id` (required): Target cluster ID
- `content` (required): Content to store
- `role` (optional): For conversation messages ("user", "assistant", etc.)
- `parent_id` (optional): Parent conversation ID

**search_memories** - Search memories within a specific cluster
- `query` (required): Search query
- `cluster_id` (required): Target cluster ID
- `limit` (optional): Maximum results (default: 10)

## Usage Examples

**Typical workflow:**
1. Install and configure MCP server for your AI client
2. Create memory clusters using Nebula SDK or web interface
3. Use `add_memory` to store important information
4. Use `search_memories` to find relevant information during conversations

**Example session:**
```
User: Remember that I prefer email communication over phone calls
AI: I'll remember that for you.
*Uses add_memory tool*
add_memory(cluster_id="user_preferences", content="User prefers email communication over phone calls")

Later in conversation:
User: What's the best way to reach me for updates?
AI: Let me check your preferences.
*Uses search_memories tool*
search_memories(query="communication preferences", cluster_id="user_preferences")
Based on your stored preferences, you prefer email communication over phone calls.
```

## Supported Clients

**Claude Desktop** - ✅ Full support, one-command setup
**Cursor** - ✅ Full support, project-specific and global configuration
**VS Code Extensions** - ✅ Full support (Cline, Roo, Windsurf)
**Other MCP Clients** - Works with any MCP-compliant client

## Troubleshooting

**Tools Not Appearing:**
- Check API key is correctly set
- Verify package installation
- Restart AI client after configuration changes

**Connection Errors:**
- Test API key with SDK directly
- Ensure network connectivity to `api.nebulacloud.app`
- Verify `NEBULA_API_URL` if using custom deployment

**Testing Installation:**
```bash
# Test with MCP Inspector
npx @modelcontextprotocol/inspector npx @nebula-ai/mcp-server --stdio --api-key your_key

# Direct server test
npx @nebula-ai/mcp-server --stdio --api-key your_key
```

**Getting Help:**
- Check client logs for MCP server errors
- Verify cluster IDs exist and are accessible
- Test functionality with direct SDK
- Report issues at [GitHub](https://github.com/nebula-ai/nebula/issues)

## Multiple Environments

For different API keys/environments, create project-specific configs:

```json
// .cursor/mcp.json (project-specific)
{
  "servers": {
    "nebula-dev": {
      "command": "npx",
      "args": ["-y", "@nebula-ai/mcp-server", "--stdio"],
      "env": {
        "NEBULA_API_KEY": "dev_api_key"
      }
    }
  }
}
```

## Next Steps

1. **Choose your package** (Node.js recommended for most users)
2. **Install for your AI client** using the one-command installation
3. **Create memory clusters** using the Nebula SDK or web interface
4. **Start using the tools** in your AI conversations!

**More information:**
- [Python SDK Documentation](/clients/python)
- [JavaScript SDK Documentation](/clients/nodejs)
- [Nebula API Reference](/api-reference/overview)
- [GitHub Repository](https://github.com/nebula-ai/nebula)
