---
title: 'MCP Integration'
description: 'Connect AI assistants to Nebula via Model Context Protocol'
---

# MCP Integration

Connect Claude Desktop, Cursor, VS Code, and other MCP-compatible clients to Nebula. Your AI assistant can store and search memories directly.

## Quick Setup (Recommended)

**Web-hosted server - no local installation required:**

```bash
# Claude Desktop
npx install-mcp "https://mcp.nebulacloud.app/mcp" \
  --client claude \
  --header "Authorization: Bearer YOUR_API_KEY" \
  --header "X-Collection-ID: YOUR_COLLECTION_ID"

# Cursor
npx install-mcp "https://mcp.nebulacloud.app/mcp" \
  --client cursor \
  --header "Authorization: Bearer YOUR_API_KEY" \
  --header "X-Collection-ID: YOUR_COLLECTION_ID"

# VS Code/Cline
npx install-mcp "https://mcp.nebulacloud.app/mcp" \
  --client cline \
  --header "Authorization: Bearer YOUR_API_KEY" \
  --header "X-Collection-ID: YOUR_COLLECTION_ID"
```

<Info>Get your API key from [trynebula.ai](https://trynebula.ai) → Settings → API Keys</Info>

## Available Tools

Once connected, your AI assistant gets these memory operations:

### `add_memory`
Store documents or conversation messages.

**Parameters:**
- `content` (required): Text to store
- `role` (optional): For conversations - `user` or `assistant`
- `metadata` (optional): Custom metadata object

**Example:**
```
add_memory(content="User prefers dark mode", metadata={"user_id": "123"})
```

### `search_memories`
Find and retrieve relevant memories semantically.

**Parameters:**
- `query` (required): Search text
- `limit` (optional): Maximum results (default: 10)

**Example:**
```
search_memories(query="user preferences", limit=5)
```

## Verification

Test your setup with MCP Inspector:

```bash
npx @modelcontextprotocol/inspector \
  npx @nebula-ai/mcp-server --stdio \
  --api-key YOUR_API_KEY
```

Open the browser URL shown. If tools load and work, your config is correct.

## Local Server Setup

If you prefer running the MCP server locally:

<Tabs>
  <Tab title="Node.js">
    ```bash
    npm install -g @nebula-ai/mcp-server

    npx install-mcp "@nebula-ai/mcp-server --stdio" \
      --client claude \
      --env NEBULA_API_KEY=your_api_key \
      --env NEBULA_COLLECTION_ID=your_collection_id
    ```
  </Tab>
  <Tab title="Python">
    ```bash
    pip install nebula-mcp

    npx install-mcp "python -m nebula_mcp" \
      --client claude \
      --env NEBULA_API_KEY=your_api_key \
      --env NEBULA_COLLECTION_ID=your_collection_id
    ```
  </Tab>
</Tabs>

## Manual Configuration

<Accordion title="Web-Hosted Manual Config">
  Add to your MCP client config file:

  ```json
  {
    "mcpServers": {
      "nebula": {
        "url": "https://mcp.nebulacloud.app/mcp",
        "headers": {
          "Authorization": "Bearer YOUR_API_KEY",
          "X-Collection-ID": "YOUR_COLLECTION_ID"
        }
      }
    }
  }
  ```
</Accordion>

<Accordion title="Local Node.js Manual Config">
  ```json
  {
    "mcpServers": {
      "nebula": {
        "command": "npx",
        "args": ["-y", "@nebula-ai/mcp-server", "--stdio"],
        "env": {
          "NEBULA_API_KEY": "your_api_key",
          "NEBULA_COLLECTION_ID": "your_collection_id"
        }
      }
    }
  }
  ```
</Accordion>

<Accordion title="Local Python Manual Config">
  ```json
  {
    "mcpServers": {
      "nebula": {
        "command": "python",
        "args": ["-m", "nebula_mcp"],
        "env": {
          "NEBULA_API_KEY": "your_api_key",
          "NEBULA_COLLECTION_ID": "your_collection_id"
        }
      }
    }
  }
  ```
</Accordion>

## Troubleshooting

**Tools not appearing:**
- Restart your AI assistant after config changes
- Verify API key is valid: `curl -H "Authorization: Bearer YOUR_API_KEY" https://api.nebulacloud.app/v1/health`
- Check collection ID exists in your Nebula account

**Connection errors:**
- Ensure environment variables are set correctly
- Check firewall/proxy settings for web-hosted setup
- Run MCP Inspector to debug locally

## Next Steps

- [Memory Operations](/guides/memory-operations) - Learn what you can do with memories
- [Python SDK](/clients/python) - Build with the Python SDK
- [JavaScript SDK](/clients/nodejs) - Build with the Node.js SDK
