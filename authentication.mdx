---
title: 'Authentication'
description: 'Learn how to authenticate with the Nebula API using API keys'
---

# Authentication

Nebula API uses API keys as the primary authentication method. API keys provide granular permissions and are scoped to specific clusters.

<Info>Recommended: load keys from environment variables; do not commit secrets. Always use HTTPS and send credentials via the Authorization header.</Info>

## TL;DR

- Authorization header format: `Authorization: ApiKey neb_xxx` (never in query params)
- Quick health check expects HTTP 200
- Initialize SDKs by reading the API key from an environment variable

<CodeGroup>

```bash curl.sh
# Quick health check (replace YOUR_API_KEY)
curl -s -H "Authorization: ApiKey YOUR_API_KEY" \
  https://api.nebulacloud.app/v1/health
```

```javascript node.js
require('dotenv').config();
const { NebulaClient } = require('@nebula-ai/sdk');
const client = new NebulaClient({ apiKey: process.env.NEBULA_API_KEY });
```

```python python.py
import os
from nebula_client import NebulaClient
client = NebulaClient(api_key=os.getenv("NEBULA_API_KEY"))
```

</CodeGroup>

## API Keys

API keys are the primary authentication method for the Nebula API. They provide granular permissions and are scoped to specific clusters.

### Creating API Keys

API keys can be created through the Nebula dashboard.

#### Via Dashboard

1. Log in to your [Nebula dashboard](https://trynebula.ai)
2. Navigate to **API Keys** section
3. Click **Create New API Key**
4. Configure permissions for specific clusters
5. Copy the generated API key (it's only shown once)

<Danger>API keys are shown only once. Store them securely and never commit them to source control.</Danger>

### Permission Levels

API keys support different permission levels:

| Permission | Description |
|------------|-------------|
| `read` | Can view and download files |
| `write` | Can upload, create folders, delete, move, and rename files (includes read permissions) |
| `admin` | Full access to the cluster |
| `none` | No access |

### Using API Keys

<CodeGroup>

```python client.py
# See Quick Start -> Initialize Client for full example
```

```javascript client.js
// See Quick Start -> Initialize Client for full example
```

```bash curl.sh
# See Quick Test below or Quick Start for cURL usage
```

</CodeGroup>



## Retries and rate limits

Use capped exponential backoff with jitter for transient errors (e.g., 429/5xx). Avoid retrying non-idempotent writes unless the operation supports idempotency.

<CodeGroup>

```python retry.py
import os, random, time
from typing import Callable, TypeVar

T = TypeVar("T")

def retry_with_jitter(fn: Callable[[], T], retries: int = 3, base: float = 0.3, factor: float = 2.0, cap: float = 5.0) -> T:
    for i in range(retries):
        try:
            return fn()
        except Exception as e:
            if i == retries - 1:
                raise
            exp = min(cap, base * (factor ** i))
            time.sleep(random.random() * exp)  # full jitter

```

```javascript retry.js
async function retryWithJitter(fn, { retries = 3, base = 300, factor = 2, cap = 5000 } = {}) {
  for (let i = 0; i < retries; i++) {
    try {
      return await fn();
    } catch (e) {
      if (i === retries - 1) throw e;
      const exp = Math.min(cap, base * Math.pow(factor, i));
      const delay = Math.random() * exp; // full jitter
      await new Promise(r => setTimeout(r, delay));
    }
  }
}
```

</CodeGroup>


## Security Best Practices

### API Key Security

1. **Keep API keys secret**: Never commit API keys to version control
2. **Use environment variables**: Store API keys in environment variables
3. **Limit permissions**: Use the minimum required permissions for each API key
4. **Monitor usage**: Regularly check API key usage in the dashboard

### Environment Variables

<Tabs>
  <Tab title="Python">
    ```python
    # .env file
    NEBULA_API_KEY=neb_abcdef123456789

    # In your code
    import os
    from dotenv import load_dotenv
    from nebula_client import NebulaClient

    load_dotenv()
    client = NebulaClient(api_key=os.getenv("NEBULA_API_KEY"))
    ```
  </Tab>
  <Tab title="Node.js">
    ```javascript
    // .env file
    NEBULA_API_KEY=neb_abcdef123456789
    
    // In your code
    require('dotenv').config();
    const client = new NebulaClient({
      apiKey: process.env.NEBULA_API_KEY
    });
    ```
  </Tab>
</Tabs>

## Quick Test

Verify your key quickly:

<CodeGroup>

```bash health_check.sh
curl -s -H "Authorization: ApiKey YOUR_API_KEY" \
  https://api.nebulacloud.app/v1/health
```

```python health_check.py
import os
import requests

api_key = os.getenv("NEBULA_API_KEY") or "YOUR_API_KEY"

resp = requests.get(
    "https://api.nebulacloud.app/v1/health",
    headers={"Authorization": f"ApiKey {api_key}"},
    timeout=10,
)

print(resp.status_code)
print(resp.json())
```

```javascript health_check.js
// Node 18+ provides global fetch
const apiKey = process.env.NEBULA_API_KEY || 'YOUR_API_KEY';

(async () => {
  const res = await fetch('https://api.nebulacloud.app/v1/health', {
    headers: { Authorization: `ApiKey ${apiKey}` }
  });
  console.log(res.status);
  const json = await res.json();
  console.log(json);
})();
```

</CodeGroup>


## Common errors

- 401 Unauthorized: Missing/invalid Authorization header. Do not retry without fixing credentials.
- 403 Forbidden: Authenticated but insufficient permissions or wrong cluster scope. Do not retry without changing permissions/scope.
- 429 Too Many Requests: Back off with jitter and retry after delay; respect any rate-limit headers if present.

## Rotation and revocation

- Prefer environment variables or a secrets manager; never hardcode keys.
- Rotate keys periodically and immediately after suspected exposure.
- Revoke unused keys in the dashboard and monitor usage for anomalies.

## Next Steps

- [Error Handling](/error-handling) - Learn about NebulaException and error handling patterns
- [Memory Operations](/guides/memory-operations) - Start working with memories
- [Conversations](/guides/conversations) - Work with conversational AI
- [API Reference](/api-reference/overview) - Explore all available endpoints 