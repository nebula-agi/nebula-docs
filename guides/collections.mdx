---
title: 'Collections Guide'
description: 'Organize memories into logical collections'
---

A collection is a named container that groups related memories together. You create collections, assign memories to them, and scope searches to them.

## Why Use Collections?

- **Separate contexts**: Keep work, personal, and project memories distinct
- **Targeted search**: Search only within relevant collections
- **Access control**: Different API keys can have different collection permissions
- **Multi-tenancy**: Isolate data for different users or customers

## Creating Collections

<Note>Collection names are case-insensitive. "Work" and "work" are treated as duplicates.</Note>

<CodeGroup>

```python Python
from nebula import Nebula, Memory
nebula = Nebula()

collection = nebula.create_collection(
    name="Research Papers",
    description="Academic research documents"
)
```

```javascript JavaScript
const { Nebula } = require('@nebula-ai/sdk');
const nebula = new Nebula({ apiKey: process.env.NEBULA_API_KEY });

const collection = await nebula.createCollection({
  name: "Research Papers",
  description: "Academic research documents"
});
```

```bash cURL
curl -X POST "https://api.trynebula.ai/v1/collections" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{"name": "Research Papers", "description": "Academic research documents"}'
```

</CodeGroup>

## Storing Memories in Collections

Always specify `collection_id` when storing memories:

<CodeGroup>

```python Python
nebula.store_memory(
    Memory(collection_id=collection.id, content="Q4 planning meeting notes", metadata={"type": "meeting"})
)
```

```javascript JavaScript
await nebula.storeMemory({
  collection_id: collection.id,
  content: "Q4 planning meeting notes",
  metadata: { type: "meeting" }
});
```

```bash cURL
curl -X POST "https://api.trynebula.ai/v1/memories" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{
    "collection_id": "COLLECTION_ID",
    "engram_type": "document",
    "raw_text": "Q4 planning meeting notes",
    "metadata": {"type": "meeting"}
  }'
```

</CodeGroup>

## Searching Within Collections

<CodeGroup>

```python Python
# Search specific collection
results = nebula.search(query="deadlines", collection_ids=["Work"])

# Search multiple collections
results = nebula.search(query="notes", collection_ids=["Work", "Personal"])

# Search all accessible collections
results = nebula.search(query="important")
```

```javascript JavaScript
// Search specific collection
const results = await nebula.search({ query: "deadlines", collection_ids: ["Work"] });

// Search multiple collections
const results2 = await nebula.search({ query: "notes", collection_ids: ["Work", "Personal"] });

// Search all accessible collections
const results3 = await nebula.search({ query: "important" });
```

```bash cURL
curl -X POST "https://api.trynebula.ai/v1/memories/search" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{"query": "deadlines", "collection_ids": ["Work"]}'
```

</CodeGroup>

<Tip>Search accepts collection names or UUIDs. When storing memories, `collection_id` must be a UUID.</Tip>

## Managing Collections

<Tabs>
  <Tab title="List">
    <CodeGroup>
      ```python Python
      collections = nebula.list_collections(limit=50)
      work_collections = nebula.list_collections(name="Work")
      ```

      ```javascript JavaScript
      const collections = await nebula.listCollections({ limit: 50 });
      const workCollections = await nebula.listCollections({ name: "Work" });
      ```

      ```bash cURL
      curl -X GET "https://api.trynebula.ai/v1/collections?limit=50" \
        -H "Authorization: Bearer YOUR_API_KEY"
      ```
    </CodeGroup>
  </Tab>

  <Tab title="Get">
    <CodeGroup>
      ```python Python
      collection = nebula.get_collection(collection_id)
      ```

      ```javascript JavaScript
      const collection = await nebula.getCollection(collectionId);
      ```

      ```bash cURL
      curl -X GET "https://api.trynebula.ai/v1/collections/YOUR_COLLECTION_ID" \
        -H "Authorization: Bearer YOUR_API_KEY"
      ```
    </CodeGroup>
  </Tab>

  <Tab title="Update">
    <CodeGroup>
      ```python Python
      nebula.update_collection(
          collection_id=collection.id,
          name="Updated Name",
          description="New description"
      )
      ```

      ```javascript JavaScript
      await nebula.updateCollection({
        collectionId: collection.id,
        name: "Updated Name",
        description: "New description"
      });
      ```

      ```bash cURL
      curl -X POST "https://api.trynebula.ai/v1/collections/YOUR_COLLECTION_ID" \
        -H "Content-Type: application/json" \
        -H "Authorization: Bearer YOUR_API_KEY" \
        -d '{"name": "Updated Name", "description": "New description"}'
      ```
    </CodeGroup>
  </Tab>

  <Tab title="Delete">
    <CodeGroup>
      ```python Python
      nebula.delete_collection(collection_id)
      ```

      ```javascript JavaScript
      await nebula.deleteCollection(collectionId);
      ```

      ```bash cURL
      curl -X DELETE "https://api.trynebula.ai/v1/collections/YOUR_COLLECTION_ID" \
        -H "Authorization: Bearer YOUR_API_KEY"
      ```
    </CodeGroup>
    <Warning>Deleting a collection removes its graph data and vector chunks. The underlying memory records are disassociated from the collection, not deleted.</Warning>
  </Tab>
</Tabs>

## Patterns and Tips

| Pattern | When to Use |
|---------|-------------|
| **One collection per user** | User-specific memory/context |
| **One collection per project** | Project-scoped documentation |
| **One collection per data type** | Different content types (docs, chats, notes) |
