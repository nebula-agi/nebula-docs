{"openapi":"3.1.0","info":{"title":"Fynopsis VDR API","description":"Document retrieval API for Fynopsis VDR","version":"0.1.0"},"paths":{"/query":{"post":{"summary":"Query Endpoint","operationId":"query_endpoint_query_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/query/stream":{"post":{"summary":"Query Stream Endpoint","operationId":"query_stream_endpoint_query_stream_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/project/quotas":{"get":{"summary":"Get Project Quotas","operationId":"get_project_quotas_project_quotas_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"project_id","in":"query","required":false,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/clusters/files/upload":{"post":{"tags":["File Operations"],"summary":"Upload a file to a cluster","description":"Uploads a file to the specified cluster. Fails if a file with the same name already exists. Enforces file type and size limits.","operationId":"upload_file_clusters_files_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_file_clusters_files_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadFileResponse"}}}},"400":{"description":"Bad Request (file too large, unsupported type, or duplicate name)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"examples":{"duplicate":{"summary":"Duplicate file name","value":{"detail":"A file with this name already exists in the cluster."}},"size":{"summary":"File too large","value":{"detail":"File size exceeds 1 GB limit."}},"type":{"summary":"Unsupported file type","value":{"detail":"Unsupported file type: .ext. Supported types are: ..."}}}}}},"404":{"description":"Cluster not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"detail":"Cluster not found."}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"},"example":{"detail":"Error uploading file to S3: ..."}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/clusters/files/download":{"post":{"tags":["File Operations"],"summary":"Download File","operationId":"download_file_clusters_files_download_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DownloadFileRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/clusters/files/list":{"post":{"tags":["File Operations"],"summary":"List Files","operationId":"list_files_clusters_files_list_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListFilesRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/clusters/files/delete":{"post":{"tags":["File Operations"],"summary":"Delete Files","operationId":"delete_files_clusters_files_delete_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteFilesRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/clusters/files/rename":{"post":{"tags":["File Operations"],"summary":"Rename File","operationId":"rename_file_clusters_files_rename_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RenameFileRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/clusters/files/update":{"post":{"tags":["File Operations"],"summary":"Update File","operationId":"update_file_clusters_files_update_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_update_file_clusters_files_update_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/clusters/create":{"post":{"tags":["Clusters"],"summary":"Create Cluster","operationId":"create_cluster_clusters_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClusterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/clusters/delete":{"post":{"tags":["Clusters"],"summary":"Delete Cluster","operationId":"delete_cluster_clusters_delete_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteClusterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/clusters/rename":{"post":{"tags":["Clusters"],"summary":"Rename Cluster","operationId":"rename_cluster_clusters_rename_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RenameClusterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/clusters/list":{"post":{"tags":["Clusters"],"summary":"List Clusters","operationId":"list_clusters_clusters_list_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListClustersRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/clusters/status":{"post":{"tags":["Clusters"],"summary":"Cluster Status","operationId":"cluster_status_clusters_status_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClusterStatusRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/clusters/{cluster_id}/rate-limits":{"get":{"tags":["Clusters"],"summary":"Get Rate Limits","operationId":"get_rate_limits_clusters__cluster_id__rate_limits_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"cluster_id","in":"path","required":true,"schema":{"type":"string","title":"Cluster Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_update_file_clusters_files_update_post":{"properties":{"cluster":{"type":"string","title":"Cluster"},"fileId":{"type":"string","title":"Fileid"},"fileName":{"type":"string","title":"Filename"},"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["cluster","file"],"title":"Body_update_file_clusters_files_update_post"},"Body_upload_file_clusters_files_upload_post":{"properties":{"cluster":{"type":"string","title":"Cluster","description":"Cluster name or ID"},"file":{"type":"string","format":"binary","title":"File","description":"File to upload (max 1GB)"}},"type":"object","required":["cluster","file"],"title":"Body_upload_file_clusters_files_upload_post"},"ClusterStatusRequest":{"properties":{"cluster":{"type":"string","title":"Cluster"}},"type":"object","required":["cluster"],"title":"ClusterStatusRequest"},"CreateClusterRequest":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"CreateClusterRequest"},"DeleteClusterRequest":{"properties":{"cluster":{"type":"string","title":"Cluster"}},"type":"object","required":["cluster"],"title":"DeleteClusterRequest"},"DeleteFilesRequest":{"properties":{"cluster":{"type":"string","title":"Cluster"},"fileIds":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Fileids"},"fileNames":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Filenames"},"fileId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fileid"},"fileName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename"}},"type":"object","required":["cluster"],"title":"DeleteFilesRequest"},"DownloadFileRequest":{"properties":{"cluster":{"type":"string","title":"Cluster"},"fileId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fileid"},"fileName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename"}},"type":"object","required":["cluster"],"title":"DownloadFileRequest"},"ErrorResponse":{"properties":{"detail":{"type":"string","title":"Detail"}},"type":"object","required":["detail"],"title":"ErrorResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ListClustersRequest":{"properties":{},"type":"object","title":"ListClustersRequest"},"ListFilesRequest":{"properties":{"cluster":{"type":"string","title":"Cluster"}},"type":"object","required":["cluster"],"title":"ListFilesRequest"},"QueryRequest":{"properties":{"cluster":{"type":"string","title":"Cluster"},"query":{"type":"string","title":"Query"},"thread_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thread Id"},"file_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"File Ids","default":[]},"use_fast_rag":{"type":"boolean","title":"Use Fast Rag","default":false},"use_reasoning":{"type":"boolean","title":"Use Reasoning","default":false},"use_deep_search":{"type":"boolean","title":"Use Deep Search","default":false},"use_deep_research":{"type":"boolean","title":"Use Deep Research","default":false},"use_planning":{"type":"boolean","title":"Use Planning","default":false},"web_search":{"type":"boolean","title":"Web Search","default":false},"code_execution":{"type":"boolean","title":"Code Execution","default":true}},"type":"object","required":["cluster","query"],"title":"QueryRequest"},"RenameClusterRequest":{"properties":{"cluster":{"type":"string","title":"Cluster"},"newName":{"type":"string","title":"Newname"}},"type":"object","required":["cluster","newName"],"title":"RenameClusterRequest"},"RenameFileRequest":{"properties":{"cluster":{"type":"string","title":"Cluster"},"fileId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fileid"},"fileName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename"},"newName":{"type":"string","title":"Newname"}},"type":"object","required":["cluster","newName"],"title":"RenameFileRequest"},"UploadFileResponse":{"properties":{"fileId":{"type":"string","title":"Fileid","description":"Unique file ID"},"fileName":{"type":"string","title":"Filename","description":"Original file name"}},"type":"object","required":["fileId","fileName"],"title":"UploadFileResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}