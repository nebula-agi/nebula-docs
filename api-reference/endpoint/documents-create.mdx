---
title: 'Create Document'
openapi: 'POST /v3/documents'
---

# Create Document

Upload and ingest a new document into the R2R system.

<RequestExample>
```bash
curl -X POST "https://api.r2r.ai/v3/documents" \
  -H "Content-Type: multipart/form-data" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -F "file=@document.pdf;type=application/pdf" \
  -F 'metadata={"title": "Sample Document", "author": "John Doe"}' \
  -F 'collection_ids=["123e4567-e89b-12d3-a456-426614174000"]' \
  -F 'ingestion_mode=hi-res'
```
</RequestExample>

<ResponseExample>
```json
{
  "success": true,
  "data": {
    "document_id": "b4ac4dd6-5f27-596e-a55b-7cf242ca30aa",
    "status": "processing",
    "message": "Document ingestion started successfully"
  }
}
```
</ResponseExample>

**Description:** Uploads and ingests a document into the R2R system. The document will be processed, chunked, and indexed for search. This endpoint returns immediately with a processing status.

**Authentication:** Required

**Form Data:**
- `file` (file, optional): The file to ingest. Exactly one of file, raw_text, or chunks must be provided.
- `raw_text` (string, optional): Raw text content to ingest. Exactly one of file, raw_text, or chunks must be provided.
- `chunks` (array of strings, optional): Pre-processed text chunks to ingest. Exactly one of file, raw_text, or chunks must be provided.
- `id` (string, optional): The ID of the document. If not provided, a new ID will be generated.
- `collection_ids` (array of strings, optional): Collection IDs to associate with the document. If none are provided, the document will be assigned to the user's default collection.
- `metadata` (object, optional): Metadata to associate with the document, such as title, description, or custom fields.
- `ingestion_mode` (string, optional, default: "custom"): Ingestion mode to use:
  - `hi-res`: Thorough ingestion with full summaries and enrichment
  - `ocr`: OCR via Mistral and full summaries
  - `fast`: Quick ingestion with minimal enrichment and no summaries
  - `custom`: Full control via `ingestion_config`
- `ingestion_config` (object, optional): Custom ingestion configuration to override defaults
- `run_with_orchestration` (boolean, optional, default: true): Whether to run ingestion with orchestration

**Response Fields:**
- `document_id` (string): Unique identifier for the document
- `status` (string): Processing status ("processing", "completed", "failed")
- `message` (string): Status message

## Error Codes

| Code | Description |
|------|-------------|
| `400` | Bad Request - Invalid request body or missing required fields |
| `401` | Unauthorized - Invalid or missing API key |
| `413` | Payload Too Large - File size exceeds limit |
| `415` | Unsupported Media Type - File type not supported |
| `500` | Internal Server Error - System error |

## Rate Limiting

Document creation: Rate limited

## Supported File Types

- PDF files (.pdf)
- Text files (.txt, .md)
- Word documents (.docx, .doc)
- HTML files (.html, .htm)
- CSV files (.csv)
- And many more formats

## SDK Examples

### Python

```python
from r2r import R2RClient

client = R2RClient(api_key="your-api-key")

# Create document from file
response = client.documents.create(
    file_path="document.pdf",
    metadata={"title": "Sample Document", "author": "John Doe"},
    collection_ids=["123e4567-e89b-12d3-a456-426614174000"],
    ingestion_mode="hi-res"
)
print(f"Document ID: {response['document_id']}")
```

### JavaScript

```javascript
const { r2rClient } = require("r2r-js");

const client = new r2rClient("your-api-key");

// Create document from file
const response = await client.documents.create({
    file: { path: "document.pdf", name: "document.pdf" },
    metadata: { title: "Sample Document", author: "John Doe" },
    collection_ids: ["123e4567-e89b-12d3-a456-426614174000"],
    ingestion_mode: "hi-res"
});
console.log(`Document ID: ${response.document_id}`);
``` 